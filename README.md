# Stable-diffusion

Stable Diffusion is a powerful text-to-image model that generates photo-realistic images from text input. With autonomous creativity and incredible speed, it empowers users to create stunning art in seconds.

NOTE: It may take some time for the Installation on first time! ⚠️

Join [Discord](https://discord.gg/P9gGZaXWGR) for any Assist/Issues 

- Lightning-fast performance for seamless art creation.
- Access to advanced computational resources, including GPUs andpy  TPUs by Google Colbatory.
- Unlimited image generation for Free!

## First Method!
1. Access Google Colab: Visit <a href="https://colab.research.google.com/drive/1GiJI2g8doj4dZfFyq_berPsfnmJxByIk?usp=sharing" target="_blank">Google Colab</a> to get started with Stable-diffusion-v1.4 .
2. To Ensure Proper Execution, run each Colab cell starting from the beginning.
3. In the Fifth cell, enter the input you want to generate, and then press Enter to proceed.
4. To retrieve the captivating images generated by Stable-diffusion-v1.4 , simply run the Fith cell onwards!

## Second Method!
1. Access Google Colab: Visit [Google Colab](https://colab.research.google.com/).
2. Create a new Colab notebook.
3. Copy this Code Given Below and Execute the Cell!

```python
!nvidia-smi
```

4. After sucessfully executing run this for Installation:

```python
!pip install diffusers==0.11.1
!pip install transformers scipy ftfy accelerate
```

5. After sucessfully executing run this for Importing required Modules:

```python
import torch
from diffusers import StableDiffusionPipeline

pipe = StableDiffusionPipeline.from_pretrained("CompVis/stable-diffusion-v1-4", torch_dtype=torch.float16)
```

6. Run this to Move Pipleline to GPU for faster inference:
   
```python
pipe = pipe.to("cuda")
```


7. After sucessfully executing run this to Generate the Image:

```python
prompt = input("Enter your input: ")
negative_prompt = "out of frame, lowres, text, error, cropped, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, out of frame, extra fingers, mutated hands, poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, fused fingers, too many fingers"
image = pipe(prompt).images[0]  

image.save(f"out.png")

image
```

8. To generate additional variations, use a different seed with the same image.

```python
import torch

generator = torch.Generator("cuda").manual_seed(1024)       # Same image with different Seed to generate more diferrent

image = pipe(prompt, generator=generator).images[0]

image
```


9. To introduce randomness and generate more diverse results, you can add a random number as interference.

```python
import torch

generator = torch.Generator("cuda").manual_seed(1024)

image = pipe(prompt, num_inference_steps=50, generator=generator).images[0]   

image
```


10. To create a grid of images, you can use the following code give below:
    
```python
from PIL import Image

def image_grid(imgs, rows, cols):
    assert len(imgs) == rows*cols

    w, h = imgs[0].size
    grid = Image.new('RGB', size=(cols*w, rows*h))
    grid_w, grid_h = grid.size
    
    for i, img in enumerate(imgs):
        grid.paste(img, box=(i%cols*w, i//cols*h))
    return grid
```


Then Run this to generate the output in Columns and Rows (May take sometime)

```python
num_images = 3
prompt=input("Enter Something:")
prompt=prompt
prompt = [prompt] * num_images

images = pipe(prompt).images

grid = image_grid(images, rows=1, cols=3)
grid
```

11. Here's how to generate a grid of `n × m` images.

```python
num_cols = 3
num_rows = 4
prompt=input("Enter Something:")
prompt=prompt
prompt = [prompt] * num_cols

all_images = []
for i in range(num_rows):
  images = pipe(prompt).images
  all_images.extend(images)

grid = image_grid(all_images, rows=num_rows, cols=num_cols)
grid
```


12. Generate non-square images.
* Stable Diffusion produces images of 512 × 512 pixels by default
* Make sure height and width are both multiples of 8

Then Run the Code Below:

```python
prompt=input("Enter Something:")
image = pipe(prompt, height=512, width=768).images[0]
image

```





